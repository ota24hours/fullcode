    <!-- Breadcrumb -->
    <div class="breadcrumb-bar breadcrumb-bg-06 text-center">
        <div class="container">
            <div class="row">
                <div class="col-md-12 col-12">
                    <h2 class="breadcrumb-title mb-2">{{propertyDetails?.name}}</h2>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb justify-content-center mb-0">
                            <li class="breadcrumb-item"><a [routerLink]="routes.index"><i class="isax isax-home5"></i></a></li>
                            <li class="breadcrumb-item">{{propertyDetails?.name}}</li>
                            <li class="breadcrumb-item active" aria-current="page">{{propertyDetails.property_variants[selectedVariantIndex].name}}</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <!-- /Breadcrumb -->

    <!-- Page Wrapper -->
    <div class="content">
        <div class="container">

            <div class="row">
                <div class="col-xl-8">

                    <!-- Slider -->
                    <div>
                        <div class="service-wrap slider-wrap-four mb-4">
                            <div class="d-flex align-items-center justify-content-between mb-2">
                                <div class="mb-2">
                                    <h4 class="mb-1 d-flex align-items-center flex-wrap">{{propertyDetails.property_variants[selectedVariantIndex].name}}<span class="badge badge-xs bg-success rounded-pill ms-2"><i class="isax isax-ticket-star me-1"></i>Verified</span></h4>
                                    <div class="d-flex align-items-center flex-wrap">
                                        <p class="fs-14 mb-2 me-3 pe-3 border-end"><i class="isax isax-ship me-2"></i>{{propertyDetails.cat_id.name}}</p>
                                        <!-- <p class="fs-14 mb-2 me-3 pe-3 border-end"><i class="isax isax-location5 me-2"></i>Ciutat Vella, Barcelona<a href="#location" class="link-primary text-decoration-underline fw-medium ms-2">View Location</a></p> -->
                                        <div class="d-flex align-items-center mb-2">
                                            <span class="badge badge-warning badge-xs text-gray-9 fs-13 fw-medium me-2">{{ averageRating | number: '1.1-1' }}</span>
                                            <p class="fs-14"><a href="#reviews">({{ reviewTotal }} Reviews)</a></p>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="d-flex align-items-center mb-3">
                                    <a href="javascript:void(0);" class="btn btn-outline-light btn-icon btn-sm d-flex align-items-center justify-content-center me-2"><i class="isax isax-share"></i></a>
                                    <a href="javascript:void(0);" class="btn btn-outline-light btn-sm d-inline-flex align-items-center"><i class="isax isax-heart5 text-danger me-1"></i>Save</a>
                                </div> -->
                            </div>
                            <div class="service-wrap mb-4">
                                <div class="slider-wrap">
                                    <ngx-slick-carousel class="slider-fors service-carousel nav-center" #mainSlider="slick-carousel" [config]="mainSliderConfig">
                                        <div ngxSlickItem  class="service-img">
                                            <img [src]="propertyDetails.property_variants[selectedVariantIndex].image || propertyDetails.image || 'assets/img/cruise/cruise-large-01.jpg'" onerror="this.onerror=null;this.src='assets/img/cruise/cruise-large-01.jpg'" class="img-fluid" alt="Slider Img" />
                                        </div>
                                    </ngx-slick-carousel>
                                    <lightgallery
                                        [settings]="gallerySettings"
                                        class="flight-gallery"
                                        >
                                        <a
                                            *ngFor="let image of propertyDetails.property_variants[selectedVariantIndex].propertyImgs"
                                            [attr.href]="image.src"
                                            class="btn btn-white btn-xs view-btn"
                                        >
                                        <i class="isax isax-image me-1"></i>See All
                                        </a>
                                </lightgallery>
                                </div>
                                <!-- <ngx-slick-carousel class="slider-nav slider-nav-thumbnails custom-margin nav-center " #thumbSlider="slick-carousel" [config]="thumbSliderConfig">
                                    <div ngxSlickItem *ngFor="let slide of thumbSlides" class="thumb-img">
                                        <img [src]="slide" class="img-fluid" alt="Slider Img" />
                                    </div>
                                </ngx-slick-carousel> -->
                            </div>
                        </div>
                    </div>
                    <!-- /Slider -->
                    <div class="accordion custom-accordion accordion-shadow">
                        <div class="accordion-item border-0 mb-4">
                            <div class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accordion_collapse_two" aria-expanded="true">
                                    Description
                                </button>
                            </div>
                            <div id="accordion_collapse_two" class="accordion-collapse collapse show">
                                <div class="accordion-body">
                                    <p class="mb-2" [ngStyle]="{'height':isMore[0]?'auto':'50px'}" style="overflow: hidden;">
                                        {{propertyDetails.description || 'No description found!'}}
                                    </p>
                                    <a href="javascript:void(0);" class="fs-14 fw-medium text-decoration-underline mb-2" [ngStyle]="{'display':isMore[0]?'none':'block'}" (click)="showLess(0)">Show More</a>
                                    <a href="javascript:void(0);" class="fs-14 fw-medium text-decoration-underline mb-2" [ngStyle]="{'display':isMore[0]?'block':'none'}" (click)="showLess(0)">Show Less</a>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 mb-4">
                            <div class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accordion_collapse_one" aria-expanded="true">
                                    Details
                                </button>
                            </div>
                            <div id="accordion_collapse_one" class="accordion-collapse collapse show">
                                <div class="accordion-body">
                                    <div class="row gy-3">
                                        <ng-container *ngFor="let groupKey of getKeys(propertyDetails.property_variants[selectedVariantIndex].detailsData)">
  
                                            <!-- Subheading for each groupKey -->
                                            <h5 class="mt-3">{{ groupKey }}</h5>
                                            
                                            <!-- Loop inside that group -->
                                            <div class="col-lg-4 col-md-6" 
                                                 *ngFor="let item of propertyDetails.property_variants[selectedVariantIndex].detailsData[groupKey]">
                                              <div>
                                                <div class="d-flex align-items-center mb-2">
                                                  <span class="icon-badge">
                                                    <img 
                                                      [src]="item.icon_url || 'assets/img/amenity/gear.png'" 
                                                      onerror="this.onerror=null;this.src='assets/img/amenity/gear.png'" />
                                                  </span>
                                                  <p class="ms-2">{{ item.key }}: {{ item.value }}</p>
                                                </div>
                                              </div>
                                            </div>
                                          
                                          </ng-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item mb-4 border-0">
                            <div class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accordion_collapse_three" aria-expanded="true">
                                    Amenities
                                </button>
                            </div>
                            <div id="accordion_collapse_three" class="accordion-collapse collapse show">
                                <div class="accordion-body">
                                    <div class="row gy-3" [ngStyle]="{
                                        'height': getAmenityCount(propertyDetails.property_variants[selectedVariantIndex]) > 6 && !isMore2[0] ? '205px' : 'auto'
                                      }"
                                    style="overflow: hidden;">
                                        <div class="col-lg-4 col-md-6" *ngIf="propertyDetails.hasDiningFacility">
                                            <div>
                                                <div class="d-flex align-items-center mb-2">
                                                    <span class="icon-badge me-2">
                                                        <img [src]="'assets/img/amenity/dinning-table.png'"  />
                                                    </span>                                                    
                                                    <p>Dining Facility</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6" *ngIf="propertyDetails.hasBreakfastIncluded">
                                            <div>
                                                <div class="d-flex align-items-center mb-2">
                                                    <span class="icon-badge">
                                                        <img [src]="'assets/img/amenity/restaurant.png'"   />
                                                    </span>
                                                    <p>Breakfast Included</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6" *ngIf="propertyDetails.property_variants[selectedVariantIndex].extra_bed_available">
                                            <div>
                                                <div class="d-flex align-items-center mb-2">
                                                    <span class="icon-badge">
                                                        <img [src]="'assets/img/amenity/bed.png'"   />
                                                    </span>
                                                    <p>Extra Bed Available</p>
                                                </div>
                                            </div>
                                        </div>
                                        <ng-container *ngFor="let groupKey of getKeys(propertyDetails.property_variants[selectedVariantIndex].extraData)">
  
                                            <!-- Subheading for each groupKey -->
                                            <h5 class="mt-3">{{ groupKey }}</h5>
                                            
                                            <!-- Loop inside that group -->
                                            <div class="col-lg-4 col-md-6" 
                                                 *ngFor="let item of propertyDetails.property_variants[selectedVariantIndex].extraData[groupKey]">
                                              <div>
                                                <div class="d-flex align-items-center mb-2">
                                                  <span class="icon-badge">
                                                    <img 
                                                      [src]="item.icon_url || 'assets/img/amenity/gear.png'" 
                                                      onerror="this.onerror=null;this.src='assets/img/amenity/gear.png'" />
                                                  </span>
                                                  <p class="ms-2">{{ item.key }}</p>
                                                </div>
                                              </div>
                                            </div>
                                          
                                          </ng-container>                                         
  
                                        <!-- <div class="col-lg-4 col-md-6" *ngFor="let item of propertyDetails.property_variants[selectedVariantIndex].extraData">
                                            <div>
                                                <div class="d-flex align-items-center mb-2">
                                                    <span class="icon-badge">
                                                        <img [src]="item.icon_url || 'assets/img/amenity/gear.png'" onerror="this.onerror=null;this.src='assets/img/amenity/gear.png'" />
                                                    </span>
                                                    <p>{{item.key}}</p>
                                                </div>
                                            </div>
                                        </div> -->
                                        <!-- <div class="col-lg-4 col-md-6">
                                            <div>
                                                <h6 class="mb-2">Wellness & Relaxation</h6>
                                                <div class="d-flex align-items-center mb-2">
                                                    <i class="isax isax-verify text-primary me-2 fs-16"></i>
                                                    <p>Spas</p>
                                                </div>
                                                <div class="d-flex align-items-center mb-2">
                                                    <i class="isax isax-verify text-primary me-2 fs-16"></i>
                                                    <p>Thermal Suites</p>
                                                </div>
                                                <div class="d-flex align-items-center mb-0">
                                                    <i class="isax isax-verify text-primary me-2 fs-16"></i>
                                                    <p>Adult-Only Retreats</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6">
                                            <div>
                                                <h6 class="mb-2">Family & Kids</h6>
                                                <div class="d-flex align-items-center mb-2">
                                                    <i class="isax isax-verify text-primary me-2 fs-16"></i>
                                                    <p>Kids' Clubs</p>
                                                </div>
                                                <div class="d-flex align-items-center mb-2">
                                                    <i class="isax isax-verify text-primary me-2 fs-16"></i>
                                                    <p>Arcades</p>
                                                </div>
                                                <div class="d-flex align-items-center mb-0">
                                                    <i class="isax isax-verify text-primary me-2 fs-16"></i>
                                                    <p>Water Parks</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6">
                                            <div>
                                                <h6 class="mb-2">Accommodations</h6>
                                                <div class="d-flex align-items-center mb-2">
                                                    <i class="isax isax-verify text-primary me-2 fs-16"></i>
                                                    <p>Cabins</p>
                                                </div>
                                                <div class="d-flex align-items-center mb-2">
                                                    <i class="isax isax-verify text-primary me-2 fs-16"></i>
                                                    <p>Private Balconies</p>
                                                </div>
                                                <div class="d-flex align-items-center mb-0">
                                                    <i class="isax isax-verify text-primary me-2 fs-16"></i>
                                                    <p>Concierge and Butler Service</p>
                                                </div>
                                            </div>
                                        </div> -->
                                    </div>
                                    <a 
                                    href="javascript:void(0);" 
                                    class="fs-14 fw-medium text-decoration-underline mb-2 d-inline-block" 
                                    *ngIf="getAmenityCount(propertyDetails.property_variants[selectedVariantIndex]) > 6 && !isMore2[0]" 
                                    (click)="isMore2[0] = true">Show More</a>
                                  
                                  <a 
                                    href="javascript:void(0);" 
                                    class="fs-14 fw-medium text-decoration-underline mb-2 d-inline-block" 
                                    *ngIf="getAmenityCount(propertyDetails.property_variants[selectedVariantIndex]) > 6 && isMore2[0]" 
                                    (click)="isMore2[0] = false">Show Less</a>                                </div>
                            </div>
                        </div>
                        <div class="accordion-item mb-4 border-0">
                            <div class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accordion_collapse_six" aria-expanded="true">
                                    Available Cabins
                                </button>
                            </div>
                            <div id="accordion_collapse_six" class="accordion-collapse collapse show">
                                <div class="accordion-body">
                                    <div class="hotel-list">
                                        <div class="place-item mb-4" *ngFor="let variant of propertyDetails.property_variants; let i = index">
                                            <div class="place-img custom-item">
                                                <div class="img-slider nav-center">
                                                    <div class="slide-images">
                                                        <a href="javascript: void(0)" (click)="selectVariant(i)">
                                                            <img [src]="variant.img_url" onerror="this.onerror=null;this.src='assets/img/cruise/cruise-04.jpg'" class="img-fluid" alt="img">
                                                        </a>
                                                    </div>
                                                </div>
                                                <!-- <div class="fav-item">
                                                    <span class="badge bg-pink">Popular</span>
                                                    <a href="javascript:void(0);" class="fav-icon" [ngClass]="{ selected: isClassAdded[0] }" (click)="toggleClass(0)">
                                                        <i class="isax isax-heart5"></i>
                                                    </a>
                                                </div> -->
                                            </div>
                                            <div class="place-content pb-1">
                                                <div class="d-flex align-items-center justify-content-between flex-wrap">
                                                    <div class="overflow-hidden">
                                                        <h5 class="mb-2 d-inline-flex align-items-center text-truncate"><a href="javascript: void(0)" (click)="selectVariant(i)">{{variant.name}}</a></h5>
                                                    </div>
                                                    <div class="d-flex align-items-center text-nowrap mb-2">
                                                        <span class="badge badge-warning badge-xs text-gray-9 fs-13 fw-medium me-2">4.3</span>
                                                        <p class="fs-14">({{ reviewTotal }} Reviews)</p>
                                                    </div>
                                                </div>
                                                <div class="d-flex align-items-center flex-wrap" *ngIf="isPropertyTypeAllowed()">
                                                    <!-- <p class="mb-2 d-inline-flex align-items-center fs-14 me-2" *ngIf="propertyDetails.hasDiningFacility"><i class="isax isax-tick-circle5 text-success me-2"></i>Dinning Service</p>
                                                    <p class="mb-2 d-inline-flex align-items-center fs-14 me-2" *ngIf="propertyDetails.hasBreakfastIncluded"><i class="isax isax-tick-circle5 text-success me-2"></i>Dinning Service</p>
                                                    <p class="me-2 mb-2 d-inline-flex align-items-center fs-14" *ngIf="variant.extra_bed_available"><i class="isax isax-tick-circle5 text-success me-2"></i>Extra Bed Services</p> -->
                                                    <!-- Dining Facility -->
                                                    <p class="mb-2 d-inline-flex align-items-center fs-14 me-2" *ngIf="propertyDetails.hasDiningFacility; else noDining">
                                                        <i class="isax isax-tick-circle5 text-success me-2"></i>Dining Service
                                                    </p>
                                                    <ng-template #noDining>
                                                        <p class="mb-2 d-inline-flex align-items-center fs-14 me-2">
                                                        <i class="isax isax-close-circle text-danger me-2"></i>Dining Service Not Available
                                                        </p>
                                                    </ng-template>
                                                    
                                                    <!-- Breakfast Facility -->
                                                    <p class="mb-2 d-inline-flex align-items-center fs-14 me-2" *ngIf="propertyDetails.hasBreakfastIncluded; else noBreakfast">
                                                        <i class="isax isax-tick-circle5 text-success me-2"></i>Breakfast Included
                                                    </p>
                                                    <ng-template #noBreakfast>
                                                        <p class="mb-2 d-inline-flex align-items-center fs-14 me-2">
                                                        <i class="isax isax-close-circle text-danger me-2"></i>Breakfast Not Available
                                                        </p>
                                                    </ng-template>
                                                    
                                                    <!-- Extra Bed Facility -->
                                                    <p class="mb-2 d-inline-flex align-items-center fs-14 me-2" *ngIf="variant.extra_bed_available; else noExtraBed">
                                                        <i class="isax isax-tick-circle5 text-success me-2"></i>Extra Bed Service
                                                    </p>
                                                    <ng-template #noExtraBed>
                                                        <p class="mb-2 d-inline-flex align-items-center fs-14 me-2">
                                                        <i class="isax isax-close-circle text-danger me-2"></i>Extra Bed Not Available
                                                        </p>
                                                    </ng-template>
  
                                                </div>
                                                <!-- <div class="d-flex align-items-center flex-wrap" *ngIf="variant.extraData">
                                                    <ng-container *ngFor="let item of variant?.extraData.slice(0, 5)">
                                                      <span class="badge badge-info-100 fs-10 fw-medium rounded-pill me-2 mb-2">
                                                        {{ item.key }}
                                                      </span>
                                                    </ng-container>
                                                  
                                                    <ng-container *ngIf="variant.extraData.length > 5">
                                                      <span class="badge badge-info-100 fs-10 fw-medium rounded-pill me-2 mb-2">
                                                        +{{ variant.extraData.length - 5 }} more
                                                      </span>
                                                    </ng-container>
                                                  </div>                                                   -->
                                                  <div class="d-flex align-items-center flex-wrap" *ngIf="flattenData(variant.extraData).length">
                                                    <ng-container *ngFor="let item of flattenData(variant.extraData).slice(0, 5)">
                                                      <span class="badge badge-info-100 fs-10 fw-medium rounded-pill me-2 mb-2">
                                                        {{ item.key }}
                                                      </span>
                                                    </ng-container>
                                                  
                                                    <ng-container *ngIf="flattenData(variant.extraData).length > 5">
                                                      <span class="badge badge-info-100 fs-10 fw-medium rounded-pill me-2 mb-2">
                                                        +{{ flattenData(variant.extraData).length - 5 }} more
                                                      </span>
                                                    </ng-container>
                                                  </div>
                                                  
                                                                                                   
                                                                                                   
                                                <!-- <div class="d-flex align-items-center flex-wrap">
                                                    <span class="badge badge-info-100 fs-10 fw-medium rounded-pill me-2 mb-2"> LED TV 2</span>
                                                    <span class="badge badge-info-100 fs-10 fw-medium rounded-pill me-2 mb-2"> Refrigerator</span>
                                                    <span class="badge badge-info-100 fs-10 fw-medium rounded-pill me-2 mb-2">Balcony </span>
                                                    <span class="badge badge-info-100 fs-10 fw-medium rounded-pill me-2 mb-2">15 m²</span>
                                                    <span class="badge badge-info-100 fs-10 fw-medium rounded-pill me-2 mb-2">Free WiFi</span>
                                                    <span class="badge badge-info-100 fs-10 fw-medium rounded-pill me-2 mb-2">Private Safe</span>
                                                </div> -->
                                                <div class="d-flex align-items-center justify-content-between flex-wrap border-top pt-3">
                                                    <h5 class="text-primary me-2 mb-3">
                                                        &#8377;{{ variant.rate }}
                                                      </h5>
                                                      
                                                    <div class="btn btn-primary btn-md mb-3" *ngIf="propertyDetails.property_variants[selectedVariantIndex].id !== variant.id">
                                                        <div class="form-check d-flex align-items-center ps-0">
                                                            <!-- <input class="form-check-input ms-0 mt-0 border border-white" name="book" type="checkbox" id="book1" checked> -->
                                                            <label class="form-check-label fs-13 text-white" for="book1" (click)="selectVariant(i)">Select</label>
                                                        </div>
                                                    </div>
                                                    <div class="btn bg-white btn-md mb-3" *ngIf="propertyDetails.property_variants[selectedVariantIndex].id === variant.id">
                                                        <div class="form-check d-flex align-items-center ps-0">
                                                            <!-- <input class="form-check-input ms-0 mt-0 border border-white" name="book" type="checkbox" id="book1" checked> -->
                                                             <i class="isax isax-tick-circle text-primary"></i>
                                                            <label class="form-check-label fs-13 text-primary ms-2" for="book1" (click)="selectVariant(i)">Selected</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="accordion-item mb-4 border-0">
                            <div class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accordion_collapse_ten" aria-expanded="true">
                                    Itinerary
                                </button>
                            </div>
                            <div id="accordion_collapse_ten" class="accordion-collapse collapse show">
                                <div class="accordion-body">
                                    <div class="stage-flow">
                                        <div class="d-flex align-items-center flows-step">
                                            <span class="flow-step">01</span>
                                            <div class="flow-content">
                                                <div class="d-flex align-items-center justify-content-between flex-wrap mb-1">
                                                    <div class="mb-1">
                                                        <h6 class="fw-medium mb-1">Day 1, Kickoff in Los Angeles</h6>
                                                        <p>25 May 2025, 04:45 AM</p>
                                                    </div>
                                                    <span class="avatar avatar-lg avatar-rounded flex-shrink-0 mb-1"><img src="assets/img/tours/tours-16.jpg" alt="Img"></span>
                                                </div>
                                                <p>The tour launches with a spectacular concert at The Hollywood Bowl, where Luna will debut her latest hits amidst a breathtaking backdrop of lights and visuals.
                                                </p>
                                            </div>
                                        </div>
                                        <div class="d-flex align-items-center flows-step">
                                            <span class="flow-step">02</span>
                                            <div class="flow-content">
                                                <div class="d-flex align-items-center justify-content-between flex-wrap mb-1">
                                                    <div class="mb-1">
                                                        <h6 class="fw-medium mb-1">Day 2, West Coast Wonders</h6>
                                                        <p>26 May 2025, 09:45 AM</p>
                                                    </div>
                                                    <span class="avatar avatar-lg avatar-rounded flex-shrink-0 mb-1"><img src="assets/img/tours/tours-17.jpg" alt="Img"></span>
                                                </div>
                                                <p>Fans in Seattle and Portland can look forward to intimate performances, complete with fan meet-and-greets that allow for personal connections with Luna.
                                                </p>
                                            </div>
                                        </div>
                                        <div class="d-flex align-items-center flows-step">
                                            <span class="flow-step">03</span>
                                            <div class="flow-content">
                                                <div class="d-flex align-items-center justify-content-between flex-wrap mb-1">
                                                    <div class="mb-1">
                                                        <h6 class="fw-medium mb-1">Day 3, Midwest Magic</h6>
                                                        <p>27 May 2025, 09:45 AM</p>
                                                    </div>
                                                    <span class="avatar avatar-lg avatar-rounded flex-shrink-0 mb-1"><img src="assets/img/tours/tours-18.jpg" alt="Img"></span>
                                                </div>
                                                <p>The tour moves to Chicago, where Luna will perform at the iconic United Center. Expect a night filled with energy and emotion as she shares her music with devoted fans.
                                                </p>
                                            </div>
                                        </div>
                                        <div class="d-flex align-items-center flows-step">
                                            <span class="flow-step">04</span>
                                            <div class="flow-content">
                                                <div class="d-flex align-items-center justify-content-between flex-wrap mb-1">
                                                    <div class="mb-1">
                                                        <h6 class="fw-medium mb-1">Day 4, East Coast Excitement</h6>
                                                        <p>31 May 2025, 09:45 AM</p>
                                                    </div>
                                                    <span class="avatar avatar-lg avatar-rounded flex-shrink-0 mb-1"><img src="assets/img/tours/tours-19.jpg" alt="Img"></span>
                                                </div>
                                                <p>
                                                    The New York show at Madison Square Garden promises to be a highlight of the tour, featuring special guests and surprises. Luna will also engage with fans in Central Park, offering a chance for unforgettable memories.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <div class="accordion-item mb-4 border-0">
                            <div class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accordion_collapse_four" aria-expanded="true">
                                    Gallery
                                </button>
                            </div>
                            <div id="accordion_collapse_four" class="accordion-collapse collapse show">
                                <div class="accordion-body">
                                    <lightgallery class="row row-cols-lg-6 row-cols-sm-4 row-cols-2 g-2" [settings]="settings" [onBeforeSlide]="onBeforeSlide">
                                        <ng-container  *ngFor="let image of images">
                                            <div class="col" [attr.data-src]="image.src ? image.src : 'assets/img/cruise/cruise-large-01.jpg'" [attr.data-responsive]="image.src ? image.src : 'assets/img/cruise/cruise-large-01.jpg'">
                                                <a class="galley-wrap" data-fancybox="gallery" [href]="image.src ? image.src : 'assets/img/cruise/cruise-large-01.jpg'">
                                                    <img [src]="image.src ? image.src : 'assets/img/cruise/cruise-thumb-01.jpg'" alt="img">
                                                </a>
                                            </div>
                                        </ng-container>
                                    </lightgallery>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item mb-4 border-0">
                            <div class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accordion_collapse_seven" aria-expanded="true">
                                    Location
                                </button>
                            </div>
                            <div id="accordion_collapse_seven" class="accordion-collapse collapse show">
                                <div class="accordion-body">
                                    <!-- Map -->
                                    <div>
                                        <iframe [src]="LocationUrl ? LocationUrl : 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6509170.989457427!2d-123.80081967108484!3d37.192957227641294!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808fb9fe5f285e3d%3A0x8b5109a227086f55!2sCalifornia%2C%20USA!5e0!3m2!1sen!2sin!4v1669181581381!5m2!1sen!2sin'"
                                        allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" class="tour-detail-map w-100"></iframe>
                                    </div>
                                    <!-- /Map -->
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item mb-4 mb-xl-0 border-0" id="reviews" #reviewSection>
                            <div class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accordion_collapse_nine" aria-expanded="true">
                                    Reviews
                                </button>
                            </div>
                            <div id="accordion_collapse_nine" class="accordion-collapse collapse show">
                                <div class="accordion-body">
                                    <div>
                                        <div class="d-flex align-items-center justify-content-between flex-wrap mb-2">
                                            <h6 class="mb-3">Reviews ({{reviewTotal}})</h6>
                                            <a href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#add_review" class="btn btn-primary btn-md mb-3"><i class="isax isax-edit-2 me-1"></i>Write a Review</a>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 d-flex">
                                                <div class="rating-item bg-light-200 text-center flex-fill mb-3">
                                                    <h6 class="fw-medium mb-3">Customer Reviews & Ratings</h6>
                                                    <h5 class="display-6">{{ averageRating | number: '1.1-1' }} / 5.0</h5>
                                                    <div class="d-inline-flex align-items-center justify-content-center mb-3">
                                                        <ng-container *ngFor="let star of getStarsArray(averageRating)">
                                                          <i *ngIf="star === 'full'" class="ti ti-star-filled text-primary me-1"></i>
                                                          <i *ngIf="star === 'half'" class="ti ti-star-half-filled text-primary me-1"></i>
                                                          <i *ngIf="star === 'empty'" class="ti ti-star text-primary me-1"></i>
                                                        </ng-container>
                                                      </div>
                                                    <!-- <div class="d-inline-flex align-items-center justify-content-center mb-3">
                                                        <i class="ti ti-star-filled text-primary me-1"></i>
                                                        <i class="ti ti-star-filled text-primary me-1"></i>
                                                        <i class="ti ti-star-filled text-primary me-1"></i>
                                                        <i class="ti ti-star-filled text-primary me-1"></i>
                                                        <i class="ti ti-star-filled text-primary"></i>
                                                    </div> -->
                                                    <p>Based On {{reviewTotal}} Reviews</p>
                                                </div>
                                            </div>
                                            <div class="col-md-6 d-flex">
                                                <div class="card rating-progress shadow-none flex-fill mb-3">
                                                    <div class="card-body">
                                                        <div *ngFor="let star of [5, 4, 3, 2, 1]" class="d-flex align-items-center mb-2">
                                                          <p class="me-2 text-nowrap mb-0">{{ star }} Star Ratings</p>
                                                          <div 
                                                            class="progress mb-0 w-100" 
                                                            role="progressbar"
                                                            [attr.aria-valuenow]="getRatingPercent(star, reviewRating) | number:'1.0-0'" 
                                                            aria-valuemin="0" 
                                                            aria-valuemax="100"
                                                          >
                                                            <div 
                                                              class="progress-bar bg-primary" 
                                                              [style.width.%]="getRatingPercent(star, reviewRating)"
                                                            ></div>
                                                          </div>
                                                          <p class="progress-count ms-2">{{ reviewRating[star] || 0 }}</p>
                                                        </div>
                                                      </div>
                                                      
                                                    <!-- <div class="card-body">
                                                        <div class="d-flex align-items-center mb-2">
                                                            <p class="me-2 text-nowrap mb-0">5 Star Ratings</p>
                                                            <div class="progress w-100" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100">
                                                                <div class="progress-bar bg-primary" style="width: 90%"></div>
                                                            </div>
                                                            <p class="progress-count ms-2">{{ reviewRating[5] }}</p>
                                                        </div>
                                                        <div class="d-flex align-items-center mb-2">
                                                            <p class="me-2 text-nowrap mb-0">4 Star Ratings</p>
                                                            <div class="progress mb-0 w-100" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">
                                                                <div class="progress-bar bg-primary" style="width: 80%"></div>
                                                            </div>
                                                            <p class="progress-count ms-2">{{reviewRating[4]}}</p>
                                                        </div>
                                                        <div class="d-flex align-items-center mb-2">
                                                            <p class="me-2 text-nowrap mb-0">3 Star Ratings</p>
                                                            <div class="progress mb-0 w-100" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">
                                                                <div class="progress-bar bg-primary" style="width: 70%"></div>
                                                            </div>
                                                            <p class="progress-count ms-2">{{reviewRating[3]}}</p>
                                                        </div>
                                                        <div class="d-flex align-items-center mb-2">
                                                            <p class="me-2 text-nowrap mb-0">2 Star Ratings</p>
                                                            <div class="progress mb-0 w-100" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100">
                                                                <div class="progress-bar bg-primary" style="width: 60%"></div>
                                                            </div>
                                                            <p class="progress-count ms-2">{{reviewRating[2]}}</p>
                                                        </div>
                                                        <div class="d-flex align-items-center">
                                                            <p class="me-2 text-nowrap mb-0">1 Star Ratings</p>
                                                            <div class="progress mb-0 w-100" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">
                                                                <div class="progress-bar bg-primary" style="width: 40%"></div>
                                                            </div>
                                                            <p class="progress-count ms-2">{{reviewRating[1]}}</p>
                                                        </div>
                                                    </div> -->
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <ng-container *ngIf="displayedReviews.length > 0">
                                            <div class="card review-item shadow-none mb-3" *ngFor="let review of displayedReviews">
                                              <div class="card-body p-3">
                                                <div class="review-info">
                                                  <div class="d-flex align-items-center justify-content-between flex-wrap">
                                                    <div class="d-flex align-items-center mb-2">
                                                      <span class="avatar avatar-lg me-2 flex-shrink-0">
                                                        <img [src]="review.user.profile_url || 'assets/img/users/user-21.jpg'" onerror="this.onerror=null;this.src='assets/img/cruise/cruise-large-01.jpg'" class="rounded-circle" alt="img">
                                                      </span>
                                                      <div>
                                                        <h6 class="fs-16 fw-medium mb-1">{{ review.user.name | titlecase }}</h6>
                                                        <div class="d-flex align-items-center flex-wrap date-info">
                                                          <p class="fs-14 mb-0">{{ review.createdAt | date : 'dd-MMM-YYYY' }}</p>
                                                          <p class="fs-14 d-inline-flex align-items-center mb-0">
                                                            <span class="badge badge-xs badge-info fs-13 fw-medium me-2 text-white-2">{{ review.rating | number: '1.1-1' }}</span>
                                                            {{ getRatingText(getIntegerRating(review.rating)) }}!
                                                          </p>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                  <p class="mb-2">{{ review.comment }}</p>
                                                </div>
                                              </div>
                                            </div>
                                          </ng-container>
                                          
                                          <!-- Load more button -->
                                          <div class="text-center mb-4" *ngIf="showLoadMore">
                                            <button class="btn btn-primary btn-md mt-2" (click)="loadMoreReviews()">
                                              Load more reviews <i class="isax isax-arrow-down-1 ms-1"></i>
                                            </button>
                                          </div>
                                          
                                          <!-- Pagination controls -->
                                          <div class="d-flex justify-content-center mt-3" *ngIf="!showLoadMore && reviewTotal > 20">
                                            <button class="btn btn-outline-primary me-2" (click)="goToPreviousPage()" [disabled]="!hasPreviousPage">
                                              <i class="isax isax-arrow-left-2 me-1"></i> Previous
                                            </button>
                                            <button class="btn btn-outline-primary" (click)="goToNextPage()" [disabled]="!hasNextPage">
                                              Next <i class="isax isax-arrow-right-3 ms-1"></i>
                                            </button>
                                          </div>
                                          
                                        <!-- <ng-container *ngIf="reviews.length > 0">
                                            <div class="card review-item shadow-none mb-3" *ngFor="let review of reviews">
                                                <div class="card-body p-3">
                                                    <div class="review-info">
                                                        <div class="d-flex align-items-center justify-content-between flex-wrap">
                                                            <div class="d-flex align-items-center mb-2">
                                                                <span class="avatar avatar-lg me-2 flex-shrink-0">
                                                                    <img [src]="review.user.profile_url || 'assets/img/users/user-21.jpg'" onerror="this.onerror=null;this.src='assets/img/cruise/cruise-large-01.jpg'" class="rounded-circle" alt="img">
                                                                </span>
                                                                <div>
                                                                    <h6 class="fs-16 fw-medium mb-1">{{review.user.name | titlecase}}</h6>
                                                                    <div class="d-flex align-items-center flex-wrap date-info">
                                                                        <p class="fs-14 mb-0">{{review.createdAt | date : 'dd-MMM-YYYY'}}</p>
                                                                        <p class="fs-14 d-inline-flex align-items-center mb-0"><span class="badge badge-xs badge-info fs-13 fw-medium me-2 text-white-2" >{{ review.rating | number:'1.1-1' }}</span>{{ getRatingText(getIntegerRating(review.rating)) }}!</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <p class="mb-2">{{ review.comment }}</p> 
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-container>
                                        <div class="text-center mb-4 mb-xl-0" *ngIf="reviewTotal > 20">
                                            <a href="javascript:void(0);" class="btn btn-primary btn-md d-inline-flex align-items-center justify-content-center mt-2">Load more reviews<i class="isax isax-arrow-right-3 ms-1"></i></a>
                                        </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-4 ">
                    <div>
                        <div class="card shadow-none">
                            <div class="card-body">
                              <h5 class="fs-18 mb-3">Check Availability</h5>
                              <div class="d-flex align-items-center justify-content-between bg-light-200 rounded p-3 mb-3">
                                <p class="fs-13 fw-medium mb-0">Starts From</p>
                                <h5 class="text-primary">
                                  ₹{{ propertyDetails.property_variants[selectedVariantIndex].rate }}
                                  <span class="fs-14 text-default fw-normal"></span>
                                </h5>
                              </div>
                          
                              <div class="banner-form">
                                <form (ngSubmit)="onSubmit1()" class="form-info border-0" *ngIf="!canBook">
                          
                                  <!-- TRANSPORTATION: From & To -->
                                  <div *ngIf="isTransportation" class="form-info border-0">
                          
                                    <!-- From Location -->
                                    <!-- <div class="form-item border rounded p-3 mb-3 w-100">
                                      <label class="form-label fs-14 text-default mb-1">From</label>
                                      <div class="search-wrapper position-relative">
                                        <input
                                          #searchBoxPropery
                                          type="text"
                                          class="form-control px-2 py-2 rounded"
                                          [(ngModel)]="fromLocation"
                                          [ngModelOptions]="{ standalone: true }"
                                          placeholder="Search cities, landmarks, beaches..."
                                          (input)="onInputChange($event)"
                                        />
                                        <ul *ngIf="suggestions.length > 0" class="list-group position-absolute shadow rounded mt-1 dropdown-menu dropdown-md p-0">
                                            <li
                                              *ngFor="let suggestion of suggestions"
                                              class="list-group-item d-flex align-items-start cursor-pointer"
                                              (click)="selectPlace(suggestion)"
                                            >
                                              <i class="bi bi-geo-alt me-2 fs-5 text-primary"></i>
                                              <div>
                                                <div class="fw-bold">{{ suggestion.name }}</div>
                                                <small class="text-muted">{{ suggestion.formatted_address }}</small>
                                              </div>
                                            </li>
                                          </ul>
                                      </div>
                                        <p class="fs-12 mb-0">{{selectedLocationDistrict || 'select place'}}</p>
                                    </div> -->
                          
                                    <!-- To Location -->
                                    <!-- <div class="form-item border rounded p-3 mb-3 w-100">
                                      <label class="form-label fs-14 text-default mb-1">To</label>
                                      <div class="search-wrapper position-relative">
                                        <input
                                          #searchBoxPropery
                                          type="text"
                                          class="form-control px-2 py-2 rounded"
                                          [(ngModel)]="toLocation"
                                          [ngModelOptions]="{ standalone: true }"
                                          placeholder="Search cities, landmarks, beaches..."
                                          (input)="onInputChange($event)"
                                        />
                                        <ul *ngIf="suggestions.length > 0" class="list-group position-absolute shadow rounded mt-1 dropdown-menu dropdown-md p-0">
                                            <li
                                              *ngFor="let suggestion of suggestions"
                                              class="list-group-item d-flex align-items-start cursor-pointer"
                                              (click)="selectPlace2(suggestion)"
                                            >
                                              <i class="bi bi-geo-alt me-2 fs-5 text-primary"></i>
                                              <div>
                                                <div class="fw-bold">{{ suggestion.name }}</div>
                                                <small class="text-muted">{{ suggestion.formatted_address }}</small>
                                              </div>
                                            </li>
                                          </ul>
                                      </div>
                                        <p class="fs-12 mb-0">{{selectedLocationDistrict2 || 'select place'}}</p>
                                    </div> -->
                          
                                    <!-- Date -->
                                    <div class="form-item border rounded p-3 mb-3 w-100">
                                      <label class="form-label fs-14 text-default mb-1">Date</label>
                                      <input
                                        type="text"
                                        class="form-control datetimepicker"
                                        bsDatepicker
                                        [bsConfig]="{ adaptivePosition: true, dateInputFormat: 'DD-MM-YYYY' }"
                                        placeholder="Select date"
                                        [(bsValue)]="transportDate"
                                      />
                                    </div>
                          
                                    <!-- Details -->
                                    <ng-container *ngTemplateOutlet="detailsTemplate"></ng-container>
                                  </div>
                          
                                  <!-- ACCOMODATION or BACKWATER -->
                                  <div *ngIf="isAccommodationOrBackwater" class="form-info border-0">
                          
                                    <!-- Location -->
                                    <!-- <div class="form-item border rounded p-3 mb-3 w-100">
                                      <label class="form-label fs-14 text-default mb-1">Location</label>
                                      <div class="search-wrapper position-relative">
                                        <input
                                          #searchBoxPropery
                                          type="text"
                                          class="form-control px-2 py-2 rounded"
                                          [(ngModel)]="accommodationLocation"
                                          [ngModelOptions]="{ standalone: true }"
                                          placeholder="Search cities, landmarks, beaches..."
                                          (input)="onInputChange($event)"
                                        />
                                        <ul *ngIf="suggestions.length > 0" class="list-group position-absolute shadow rounded mt-1 dropdown-menu dropdown-md p-0">
                                            <li
                                              *ngFor="let suggestion of suggestions"
                                              class="list-group-item d-flex align-items-start cursor-pointer"
                                              (click)="selectPlace(suggestion)"
                                            >
                                              <i class="bi bi-geo-alt me-2 fs-5 text-primary"></i>
                                              <div>
                                                <div class="fw-bold">{{ suggestion.name }}</div>
                                                <small class="text-muted">{{ suggestion.formatted_address }}</small>
                                              </div>
                                            </li>
                                        </ul>
                                      </div>
                                        <p class="fs-12 mb-0">{{selectedLocationDistrict || 'select place'}}</p>
                                    </div> -->
                          
                                    <!-- Start Date -->
                                    <div class="form-item border rounded p-3 mb-3 w-100">
                                      <label class="form-label fs-14 text-default mb-1">Start Date</label>
                                      <input
                                        type="text"
                                        class="form-control datetimepicker"
                                        bsDatepicker
                                        [bsConfig]="{ adaptivePosition: true, dateInputFormat: 'DD-MM-YYYY' }"
                                        placeholder="Select start date"
                                        [(bsValue)]="startDate"
                                      />
                                    </div>
                          
                                    <!-- End Date -->
                                    <div class="form-item border rounded p-3 mb-3 w-100">
                                      <label class="form-label fs-14 text-default mb-1">End Date</label>
                                      <input
                                        type="text"
                                        class="form-control datetimepicker"
                                        bsDatepicker
                                        [bsConfig]="{ adaptivePosition: true, dateInputFormat: 'DD-MM-YYYY' }"
                                        placeholder="Select end date"
                                        [(bsValue)]="endDate"
                                      />
                                    </div>
                          
                                    <!-- Details -->
                                    <ng-container *ngTemplateOutlet="detailsTemplate"></ng-container>
                                  </div>
                          
                                  <!-- SPECIALEVENTS -->
                                  <div *ngIf="isSpecialEvents" class="form-info border-0">
                          
                                    <!-- Start Date -->
                                    <div class="form-item border rounded p-3 mb-3 w-100">
                                      <label class="form-label fs-14 text-default mb-1">Start Date</label>
                                      <input
                                        type="text"
                                        class="form-control datetimepicker"
                                        bsDatepicker
                                        [bsConfig]="{ adaptivePosition: true, dateInputFormat: 'DD-MM-YYYY' }"
                                        placeholder="Select start date"
                                        [(bsValue)]="eventStartDate"
                                      />
                                    </div>
                          
                                    <!-- End Date -->
                                    <div class="form-item border rounded p-3 mb-3 w-100">
                                      <label class="form-label fs-14 text-default mb-1">End Date</label>
                                      <input
                                        type="text"
                                        class="form-control datetimepicker"
                                        bsDatepicker
                                        [bsConfig]="{ adaptivePosition: true, dateInputFormat: 'DD-MM-YYYY' }"
                                        placeholder="Select end date"
                                        [(bsValue)]="eventEndDate"
                                      />
                                    </div>
                          
                                    <!-- Details -->
                                    <ng-container *ngTemplateOutlet="detailsTemplate"></ng-container>
                                  </div>
                          
                                  <button type="submit" class="btn btn-primary btn-lg search-btn ms-0 w-100 mb-3 fs-14">Book Now</button>
                                </form>
                              </div>
                              <div class="container mt-4">
                                <form #bookingForm="ngForm" (ngSubmit)="onSubmit2()" *ngIf="canBook">
                                    <div class="row">
                                      <!-- Variant ID (hidden field) -->
                                      <input type="hidden" name="variantId" [(ngModel)]="formData.variantId">
                                
                                      <!-- Start Date and End Date -->
                                      <div class="row mb-3 d-flex justify-content-center">
                                        <div class="col-12 form-info border-0">
                                            <div class="form-item border rounded p-3 mb-3 w-100">
                                                <label class="form-label fs-14 text-default mb-1">Start Date</label>
                                                <input
                                                type="text"
                                                class="form-control datetimepicker"
                                                bsDatepicker
                                                [bsConfig]="{ adaptivePosition: true, dateInputFormat: 'DD-MM-YYYY' }"
                                                placeholder="Select start date"
                                                [(bsValue)]="startDate"
                                              />
                                              </div>
                                          <!-- <input type="date" class="form-control" id="startDate" name="startDate" [(ngModel)]="formData.startDate" required> -->
                                          
                                        </div>
                                        <div class="col-12">
                                            <div class="form-item border rounded p-3 mb-3 w-100">
                                                <label class="form-label fs-14 text-default mb-1">End Date</label>
                                                <input
                                                type="text"
                                                class="form-control datetimepicker"
                                                bsDatepicker
                                                [bsConfig]="{ adaptivePosition: true, dateInputFormat: 'DD-MM-YYYY' }"
                                                placeholder="Select start date"
                                                [(bsValue)]="endDate"
                                              />
                                              </div>
                                          <!-- <label for="endDate" class="form-label">End Date</label>
                                          <input
                                          type="text"
                                          class="form-control datetimepicker"
                                          bsDatepicker
                                          [bsConfig]="{ adaptivePosition: true, dateInputFormat: 'DD-MM-YYYY' }"
                                          placeholder="Select date"
                                          [(bsValue)]="endDate"
                                        />                                        -->
                                     </div>
                                      </div>
                                
                                      <!-- Extra Beds and Unit Booked (shown if isAccommodationOrBackwater is true) -->
                                      <div *ngIf="this.isAccommodationOrBackwater" class="row mb-3">
                                        <div class="col-12">
                                            <ng-container *ngTemplateOutlet="bookingDetailsTemplate"></ng-container>

                                          <!-- <label for="extraBeds" class="form-label">Extra Beds</label>
                                          <div class="input-group w-100">
                                            <button type="button" class="btn btn-primary" (click)="decrement('extraBeds')">-</button>
                                            <input type="number" class="form-control text-center" id="extraBeds" name="extraBeds" [(ngModel)]="formData.extraBeds" min="1" required>
                                            <button type="button" class="btn btn-primary" (click)="increment('extraBeds')">+</button>
                                          </div> -->
                                        </div>
                                        <!-- <div class="col-12">
                                          <label for="unitBooked" class="form-label">Units Booked</label>
                                          <div class="input-group w-100">
                                            <button type="button" class="btn btn-primary" (click)="decrement('unitBooked')">-</button>
                                            <input type="number" class="form-control text-center" id="unitBooked" name="unitBooked" [(ngModel)]="formData.unitBooked" min="1" required>
                                            <button type="button" class="btn btn-primary" (click)="increment('unitBooked')">+</button>
                                          </div>
                                        </div> -->
                                      </div>
                                
                                      <!-- Distance (shown if isTransportation is true) -->
                                      <div *ngIf="this.isTransportation" class="row mb-3">
                                        <div class="col-md-12">
                                          <label for="distance" class="form-label">Distance (km)</label>
                                          <input type="number" class="form-control" id="distance" readonly name="distance" [(ngModel)]="formData.distance" min="0" required>
                                        </div>
                                      </div>
                                
                                      <button type="submit" class="btn btn-primary btn-lg search-btn ms-0 w-100 mb-3 fs-14">Submit Booking</button>
                                    </div>
                                  </form>
                              </div>
                            </div>
                          </div>

                           <!-- Details template -->
                           <ng-template #bookingDetailsTemplate>
                            <div class="card shadow-none mb-3">
                              <div class="card-body p-3 pb-0">
                                <div class="border-bottom pb-2 mb-2">
                                  <h6>Details</h6>
                                </div>
                                <div class="custom-increment">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label
                                                    class="form-label text-gray-9 mb-2">Units Booked
                                                    <!-- <span class="text-default fw-normal">(
                                                        12+ Yrs )</span> -->
                                                    </label>
                                                <div class="custom-increment w-100">
                                                    <div class="input-group d-flex justify-content-between">
                                                        <span class="input-group-btn float-start">
                                                            <button type="button" class="quantity-left-minus btn btn-light btn-number"  (click)="decrement('unitBooked')">
                                                            <span><i class="isax isax-minus"></i></span>
                                                        </button>
                                                        </span>
                                                        <input type="text" 
                                                                name="unitBooked" 
                                                                class="input-number" 
                                                                [(ngModel)]="formData.unitBooked" 
                                                                pattern="[1-9][0-9]*"
                                                                autocomplete="off">
                                                        <span class="input-group-btn float-end">
                                                            <button type="button" class="quantity-right-plus btn btn-light btn-number" (click)="increment('unitBooked')">
                                                                <span><i class="isax isax-add"></i></span>
                                                        </button>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label
                                                    class="form-label text-gray-9 mb-2">Extra Beds
                                                    <!-- <span class="text-default fw-normal">(
                                                        2-12 Yrs )</span> -->
                                                    </label>
                                                <div class="custom-increment w-100">
                                                    <div class="input-group d-flex justify-content-between">
                                                        <span class="input-group-btn float-start">
                                                            <button type="button" class="quantity-left-minus btn btn-light btn-number"  (click)="decrement('extraBeds')">
                                                            <span><i class="isax isax-minus"></i></span>
                                                        </button>
                                                        </span>
                                                        <input type="text" 
                                                                name="extraBeds" 
                                                                class="input-number" 
                                                                [(ngModel)]="formData.extraBeds" 
                                                                pattern="[1-9][0-9]*"
                                                                autocomplete="off">
                                                        <span class="input-group-btn float-end">
                                                            <button type="button" class="quantity-right-plus btn btn-light btn-number" (click)="increment('extraBeds')">
                                                                <span><i class="isax isax-add"></i></span>
                                                        </button>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                  <!-- <div class="mb-3 d-flex align-items-center justify-content-between">
                                    <label class="form-label text-gray-9 mb-0">Adults</label>
                                    <app-common-counter></app-common-counter>
                                  </div>
                                  <div class="mb-3 d-flex align-items-center justify-content-between">
                                    <label class="form-label text-gray-9 mb-0">Children <span class="text-default fw-normal">(2-12 Yrs)</span></label>
                                    <app-common-counter></app-common-counter>
                                  </div> -->
                                </div>
                              </div>
                            </div>
                          </ng-template>
                          
                          <!-- Details template -->
                          <ng-template #detailsTemplate>
                            <div class="card shadow-none mb-3">
                              <div class="card-body p-3 pb-0">
                                <div class="border-bottom pb-2 mb-2">
                                  <h6>Details</h6>
                                </div>
                                <div class="custom-increment">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label
                                                    class="form-label text-gray-9 mb-2">Adults
                                                    <span class="text-default fw-normal">(
                                                        12+ Yrs )</span></label>
                                                <div class="custom-increment w-100">
                                                    <div class="input-group d-flex justify-content-between">
                                                        <span class="input-group-btn float-start">
                                                            <button type="button" class="quantity-left-minus btn btn-light btn-number"  (click)="decrementQuantity()">
                                                            <span><i class="isax isax-minus"></i></span>
                                                        </button>
                                                        </span>
                                                        <input type="text" 
                                                                name="quantity" 
                                                                class="input-number" 
                                                                [(ngModel)]="quantity" 
                                                                (input)="validateQuantity($event)"
                                                                pattern="[1-9][0-9]*"
                                                                autocomplete="off">
                                                        <span class="input-group-btn float-end">
                                                            <button type="button" class="quantity-right-plus btn btn-light btn-number" (click)="incrementQuantity()">
                                                                <span><i class="isax isax-add"></i></span>
                                                        </button>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label
                                                    class="form-label text-gray-9 mb-2">Childrens
                                                    <span class="text-default fw-normal">(
                                                        2-12 Yrs )</span></label>
                                                <div class="custom-increment w-100">
                                                    <div class="input-group d-flex justify-content-between">
                                                        <span class="input-group-btn float-start">
                                                            <button type="button" class="quantity-left-minus btn btn-light btn-number"  (click)="decrementChildreCount()">
                                                            <span><i class="isax isax-minus"></i></span>
                                                        </button>
                                                        </span>
                                                        <input type="text" 
                                                                name="childreCount" 
                                                                class="input-number" 
                                                                [(ngModel)]="childreCount" 
                                                                (input)="validateChildreCount($event)"
                                                                pattern="[1-9][0-9]*"
                                                                autocomplete="off">
                                                        <span class="input-group-btn float-end">
                                                            <button type="button" class="quantity-right-plus btn btn-light btn-number" (click)="incrementChildreCount()">
                                                                <span><i class="isax isax-add"></i></span>
                                                        </button>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                  <!-- <div class="mb-3 d-flex align-items-center justify-content-between">
                                    <label class="form-label text-gray-9 mb-0">Adults</label>
                                    <app-common-counter></app-common-counter>
                                  </div>
                                  <div class="mb-3 d-flex align-items-center justify-content-between">
                                    <label class="form-label text-gray-9 mb-0">Children <span class="text-default fw-normal">(2-12 Yrs)</span></label>
                                    <app-common-counter></app-common-counter>
                                  </div> -->
                                </div>
                              </div>
                            </div>
                          </ng-template>
                          
                        <!-- <div class="card shadow-none">
                            <div class="card-body">
                                <h5 class="fs-18 mb-3">Check Availability</h5>
                                <div class="d-flex align-items-center justify-content-between bg-light-200 rounded p-3 mb-3">
                                    <p class="fs-13 fw-medium mb-0">Starts From</p>
                                    <h5 class="text-primary">&#8377;{{propertyDetails.property_variants[selectedVariantIndex].rate}} <span class="fs-14 text-default fw-normal"></span></h5>
                                </div>
                                <div class="banner-form">
                                    <form (ngSubmit)="onSubmit1()" class="form-info border-0">
                                        <div class="form-info border-0">
                                            <div class="form-item dropdown border rounded p-3 mb-3 w-100">
                                                <div data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false" role="menu">
                                                    <label class="form-label fs-14 text-default mb-1">Destination</label>
                                                    <div class="search-wrapper position-relative">
                                                        <input
                                                          #searchBoxPropery
                                                          type="text"
                                                          class="form-control px-2 py-2 rounded"
                                                          [(ngModel)]="selectedLocationName"
                                                          [ngModelOptions]="{ standalone: true }"
                                                          placeholder="Search cities, landmarks, beaches..."
                                                          (input)="onInputChange($event)"
                                                        />
                                                        <ul *ngIf="suggestions.length > 0" class="list-group position-absolute shadow rounded mt-1 dropdown-menu dropdown-md p-0">
                                                            <li
                                                              *ngFor="let suggestion of suggestions"
                                                              class="list-group-item d-flex align-items-start cursor-pointer"
                                                              (click)="selectPlace(suggestion)"
                                                            >
                                                              <i class="bi bi-geo-alt me-2 fs-5 text-primary"></i>
                                                              <div>
                                                                <div class="fw-bold">{{ suggestion.name }}</div>
                                                                <small class="text-muted">{{ suggestion.formatted_address }}</small>
                                                              </div>
                                                            </li>
                                                          </ul>
                                                      </div>
                                                    <p class="fs-12 mb-0">{{selectedLocationDistrict || 'select place'}}</p>
                                                </div>
                                            </div>
                                            <div class="form-item border rounded p-3 mb-3 w-100">
                                                <label class="form-label fs-14 text-default mb-1">Start Date</label>
                                                <input
                                                    type="text"
                                                    class="form-control datetimepicker"
                                                    bsDatepicker
                                                    [bsConfig]="{ adaptivePosition: true }"
                                                    placeholder="21-10-2024"
                                                    [(bsValue)]="(bsValue)"
                                                    [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }"
                                                    />
                                                <p class="fs-12 mb-0">Monday</p>
                                            </div>
                                            <div class="form-item border rounded p-3 mb-3 w-100">
                                                <label class="form-label fs-14 text-default mb-1">End Date</label>
                                                <input
                                                    type="text"
                                                    class="form-control datetimepicker"
                                                    bsDatepicker
                                                    [bsConfig]="{ adaptivePosition: true }"
                                                    placeholder="21-10-2024"
                                                    [(bsValue)]="(bsValue)"
                                                    [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }"
                                                    />
                                                <p class="fs-12 mb-0">Monday</p>
                                            </div>
                                            <div class="card shadow-none mb-3">
                                                <div class="card-body p-3 pb-0">
                                                    <div class="border-bottom pb-2 mb-2">
                                                        <h6>Details</h6>
                                                    </div>
                                                    <div class="custom-increment">
                                                        <div class="mb-3 d-flex align-items-center justify-content-between">
                                                            <label class="form-label text-gray-9 mb-0">Adults</label>
                                                            <app-common-counter/>
                                                        </div>
                                                        <div class="mb-3 d-flex align-items-center justify-content-between">
                                                            <label class="form-label text-gray-9 mb-0">Children <span class="text-default fw-normal">( 2-12 Yrs )</span></label>
                                                            <app-common-counter/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <button type="submit" class="btn btn-primary btn-lg search-btn ms-0 w-100 mb-3 fs-14">Book Now</button>
                                    </form>
                                </div>
                            </div>
                        </div> -->

                        <div class="card shadow-none">
                            <div class="card-body">
                                <h5 class="fs-18 mb-3">Why Book With Us</h5>
                                <div>
                                    <p class="d-flex align-items-center mb-3">
                                        <span class="avatar avatar-md bg-light rounded-circle text-dark me-2">
                                            <i class="isax isax-medal-star"></i>
                                        </span>Expertise and Experience
                                    </p>
                                    <p class="d-flex align-items-center mb-3">
                                        <span class="avatar avatar-md bg-light rounded-circle text-dark me-2">
                                            <i class="isax isax-menu"></i>
                                        </span>Tailored Services
                                    </p>
                                    <p class="d-flex align-items-center mb-3">
                                        <span class="avatar avatar-md bg-light rounded-circle text-dark me-2">
                                            <i class="isax isax-message-minus"></i>
                                        </span>Comprehensive Planning
                                    </p>
                                    <p class="d-flex align-items-center mb-3">
                                        <span class="avatar avatar-md bg-light rounded-circle text-dark me-2">
                                            <i class="isax isax-user-add"></i>
                                        </span>Client Satisfaction
                                    </p>
                                    <p class="d-flex align-items-center">
                                        <span class="avatar avatar-md bg-light rounded-circle text-dark me-2">
                                            <i class="isax isax-grammerly"></i>
                                        </span>24/7 Support
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /Page Wrapper -->

        <!-- Review Modal -->
        <div class="modal fade" id="add_review">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header d-flex align-items-center justify-content-between">
                        <h5>Write a Review</h5>
                        <a href="javascript:void(0);" data-bs-dismiss="modal" aria-label="Close">
                            <i class="ti ti-x fs-16"></i>
                        </a>
                    </div>
                    <form [formGroup]="reviewForm" (ngSubmit)="addPropertyReview(reviewForm)">
                        <div class="modal-body pb-0">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="mb-3">
                                        <label class="form-label">Your Rating <span class="text-danger">*</span></label>
                                        <div class="selection-wrap">
                                            <div class="d-inline-block">
                                                <div class="rating-selction">
                                                    <input type="radio" name="rating" formControlName="rating" value="5" id="rating5">
                                                    <label for="rating5"><i class="fa-solid fa-star"></i></label>
                                                    <input type="radio" name="rating" formControlName="rating" value="4" id="rating4">
                                                    <label for="rating4"><i class="fa-solid fa-star"></i></label>
                                                    <input type="radio" name="rating" formControlName="rating" value="3" id="rating3">
                                                    <label for="rating3"><i class="fa-solid fa-star"></i></label>
                                                    <input type="radio" name="rating" formControlName="rating" value="2" id="rating2">
                                                    <label for="rating2"><i class="fa-solid fa-star"></i></label>
                                                    <input type="radio" name="rating" formControlName="rating" value="1" id="rating1">
                                                    <label for="rating1"><i class="fa-solid fa-star"></i></label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">Name <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">Email <span class="text-danger">*</span></label>
                                        <input type="email" class="form-control">
                                    </div>
                                </div> -->
                                <div class="col-md-12">
                                    <div class="mb-3">
                                        <label class="form-label">Write Your Review <span class="text-danger">*</span></label>
                                        <textarea class="form-control" formControlName="comment" rows="3"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <div class="d-flex align-items-center justify-content-end m-0">
                                <button type="submit" data-bs-dismiss="modal" class="btn btn-primary btn-md"><i class="isax isax-edit-2 me-1"></i>Submit Review</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- /Review Modal -->